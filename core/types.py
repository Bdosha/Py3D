"""
Типы данных для 3D движка Py3D.

Определяет type aliases для улучшения читаемости кода
и обеспечения корректной типизации.
"""

from typing import Callable
import numpy as np
from numpy.typing import NDArray


# =============================================================================
# Базовые векторные типы
# =============================================================================

Vector3 = NDArray[np.float32]
"""3D вектор: массив из 3 float32 элементов [x, y, z]."""

Vector2 = NDArray[np.float32]
"""2D вектор: массив из 2 float32 элементов [x, y]."""

# =============================================================================
# Геометрические типы
# =============================================================================

Triangle = NDArray[np.float32]
"""Треугольник: массив 3x3 из вершин [[x1,y1,z1], [x2,y2,z2], [x3,y3,z3]]."""

RotationMatrix = NDArray[np.float32]
"""Матрица поворота 3x3."""

# =============================================================================
# Цветовые типы
# =============================================================================

Color = tuple[int, int, int]
"""RGB цвет: кортеж из 3 целых чисел (0-255)."""

# =============================================================================
# Составные типы
# =============================================================================

Polygon = tuple[Triangle, Color]
"""Полигон с цветом: кортеж (треугольник, цвет)."""

ScreenCoords = list[tuple[float, float]]
"""Экранные координаты полигона: список из 3 точек [(x1,y1), (x2,y2), (x3,y3)]."""

DrawData = list[ScreenCoords, Color, float | None]
"""Данные для отрисовки: [экранные координаты, цвет, интенсивность света]."""

# =============================================================================
# Функциональные типы
# =============================================================================

SurfaceFunction = Callable[[NDArray, NDArray], NDArray]
"""Функция поверхности z = f(x, y) для графиков."""

ParametricFunction = Callable[[float, float, NDArray, NDArray], tuple[NDArray, NDArray, NDArray]]
"""Параметрическая функция (alpha, beta, U, V) -> (X, Y, Z)."""

VisibilityCheck = Callable[[Triangle], bool]
"""Функция проверки видимости полигона."""

